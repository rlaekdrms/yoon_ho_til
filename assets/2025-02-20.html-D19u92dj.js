import{_ as s,c as a,d as p,o as t}from"./app-CCD6v6RA.js";const e={};function o(l,n){return t(),a("div",null,n[0]||(n[0]=[p(`<h1 id="_2025-02-20" tabindex="-1"><a class="header-anchor" href="#_2025-02-20"><span>2025-02-20</span></a></h1><h2 id="데이터-프로세싱-만들기" tabindex="-1"><a class="header-anchor" href="#데이터-프로세싱-만들기"><span>데이터 프로세싱 만들기</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">from</span> matplotlib <span class="token keyword">import</span> pyplot <span class="token keyword">as</span> plt</span>
<span class="line"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np</span>
<span class="line"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd</span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">GetFiltered_clpr</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    columns <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;dates&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;values&quot;</span><span class="token punctuation">]</span></span>
<span class="line">    df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>columns<span class="token operator">=</span>columns<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">for</span> row <span class="token keyword">in</span> data<span class="token punctuation">[</span><span class="token string">&#39;output2&#39;</span><span class="token punctuation">]</span><span class="token punctuation">:</span></span>
<span class="line">        dateText <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>row<span class="token punctuation">[</span><span class="token string">&#39;stck_bsop_date&#39;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token format-spec">4]</span><span class="token punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token punctuation">{</span>row<span class="token punctuation">[</span><span class="token string">&#39;stck_bsop_date&#39;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token format-spec">6]</span><span class="token punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token punctuation">{</span>row<span class="token punctuation">[</span><span class="token string">&#39;stck_bsop_date&#39;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">:</span><span class="token format-spec">8]</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span></span>
<span class="line">        <span class="token comment"># dateText = f&quot;{row[&#39;stck_bsop_date&#39;][4:6]}/{row[&#39;stck_bsop_date&#39;][6:8]}&quot;</span></span>
<span class="line">        new_row <span class="token operator">=</span>  pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;dates&quot;</span><span class="token punctuation">:</span>dateText<span class="token punctuation">,</span><span class="token string">&quot;values&quot;</span><span class="token punctuation">:</span><span class="token builtin">int</span><span class="token punctuation">(</span>row<span class="token punctuation">[</span><span class="token string">&#39;stck_clpr&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line">        df <span class="token operator">=</span> pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">[</span>df<span class="token punctuation">,</span>new_row<span class="token punctuation">]</span><span class="token punctuation">,</span>ignore_index<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment"># Destructure 비구조화</span></span>
<span class="line">    <span class="token comment"># 내용1, 내용2, 내용3 -&gt; [내용1, 내용2, 내용3] : 구조화</span></span>
<span class="line">    <span class="token comment"># [내용1, 내용2, 내용3] -&gt; 내용1, 내용2, 내용3 : 비구조화</span></span>
<span class="line">    <span class="token comment"># 비구조화를 사용하면 리스트나 튜플 등의 자료형을 여러 변수에 할당할 수 있다.</span></span>
<span class="line"></span>
<span class="line">    fig<span class="token punctuation">,</span> ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    df_sorted <span class="token operator">=</span> df<span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span><span class="token string">&quot;dates&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    ax<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>df_sorted<span class="token punctuation">[</span><span class="token string">&quot;dates&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> df_sorted<span class="token punctuation">[</span><span class="token string">&quot;values&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment"># y축에 0원부터 표시됐으면 좋겠는데, 기간 내 최저가부터 표시가 됨. 이를 수정해야 함.</span></span>
<span class="line">    <span class="token comment"># ax.set_ylim(bottom=0)</span></span>
<span class="line">    <span class="token comment"># 성공. 채택 안함.</span></span>
<span class="line"></span>
<span class="line">    ax<span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span><span class="token string">&quot;Date&quot;</span><span class="token punctuation">)</span> <span class="token comment"># x-axis label</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment"># TODO: X축 레이블 예쁘게 만들기</span></span>
<span class="line">    ax<span class="token punctuation">.</span>tick_params<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token string">&#39;x&#39;</span><span class="token punctuation">,</span> labelrotation<span class="token operator">=</span><span class="token number">45</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment"># plt.plot(df[&quot;dates&quot;], df[&quot;values&quot;],&quot;orange&quot;)</span></span>
<span class="line">    <span class="token comment"># fig.show()</span></span>
<span class="line">    <span class="token comment"># fig.waitforbuttonpress()</span></span>
<span class="line">    fig<span class="token punctuation">.</span>savefig<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>data<span class="token punctuation">[</span><span class="token string">&#39;output1&#39;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&#39;stck_shrn_iscd&#39;</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string">_result.png&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> df</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3)]))}const i=s(e,[["render",o],["__file","2025-02-20.html.vue"]]),u=JSON.parse('{"path":"/til/2025-02-20.html","title":"2025-02-20","lang":"ko-KR","frontmatter":{},"headers":[{"level":2,"title":"데이터 프로세싱 만들기","slug":"데이터-프로세싱-만들기","link":"#데이터-프로세싱-만들기","children":[]}],"git":{"updatedTime":1740567818000,"contributors":[{"name":"rlaekdrms","username":"rlaekdrms","email":"danielyoonho@naver.com","commits":1,"url":"https://github.com/rlaekdrms"}]},"filePathRelative":"til/2025-02-20.md"}');export{i as comp,u as data};
